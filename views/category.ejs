<%- include('partials/header', { title: category.name, page: 'categories' }) %>

<% const icons = {
  'ai-credit-scoring': 'ðŸ’³',
  'ai-fraud-detection': 'ðŸ›¡ï¸',
  'ai-credit-risk': 'ðŸ“Š',
  'income-employment': 'ðŸ’¼',
  'regulatory-compliance': 'âš–ï¸',
  'lending-automation': 'ðŸ¤–'
}; %>

<section class="category-header">
  <div class="container">
    <div style="font-size: 3rem; margin-bottom: 1rem;"><%= icons[category.slug] || 'ðŸ“' %></div>
    <h1><%= category.name %></h1>
    <p><%= category.description %></p>
  </div>
</section>

<main class="container">
  <% if (articles && articles.length > 0) { %>
    <div class="articles-grid">
      <% articles.forEach(article => { %>
        <%- include('partials/article-card', { article }) %>
      <% }) %>
    </div>

    <% if (pagination.pages > 1) { %>
      <div style="text-align: center; margin-top: 2rem;">
        <% if (pagination.page > 1) { %>
          <a href="/category/<%= category.slug %>?page=<%= pagination.page - 1 %>" style="margin-right: 1rem;">&larr; Previous</a>
        <% } %>
        <span>Page <%= pagination.page %> of <%= pagination.pages %></span>
        <% if (pagination.page < pagination.pages) { %>
          <a href="/category/<%= category.slug %>?page=<%= pagination.page + 1 %>" style="margin-left: 1rem;">Next &rarr;</a>
        <% } %>
      </div>
    <% } %>
  <% } else { %>
    <div class="empty-state">
      <div class="empty-state-icon">ðŸ“­</div>
      <h3>No articles in this category</h3>
      <p>We haven't found any relevant articles for this category yet.</p>
      <a href="/" style="display: inline-block; margin-top: 1rem;">Back to Home</a>
    </div>
  <% } %>
</main>

<%- include('partials/footer') %>
